apiVersion: v1
kind: Secret
metadata:
  name: portfolio-secrets
  namespace: portfolio
type: Opaque
stringData:
  # PostgreSQL credentials
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "CHANGE_ME_IN_PRODUCTION"
  
  # Database URLs - PRIMARY (for writes and migrations)
  DATABASE_URL: "postgresql://postgres:CHANGE_ME_IN_PRODUCTION@postgres-primary:5432/portfolio?sslmode=require"
  DATABASE_URL_PRIMARY: "postgresql://postgres:CHANGE_ME_IN_PRODUCTION@postgres-primary:5432/portfolio?sslmode=require"
  ALEMBIC_DATABASE_URL: "postgresql://postgres:CHANGE_ME_IN_PRODUCTION@postgres-primary:5432/portfolio?sslmode=require"
  
  # Database URL - REPLICA (for reads)
  DATABASE_URL_REPLICA: "postgresql://postgres:CHANGE_ME_IN_PRODUCTION@postgres-replica:5432/portfolio?sslmode=require"
  
  # Redis
  REDIS_URL: "redis://redis:6379/0"
  
  # MinIO credentials
  MINIO_ROOT_USER: "minioadmin"
  MINIO_ROOT_PASSWORD: "CHANGE_ME_IN_PRODUCTION"
  
  # JWT Secret
  SECRET_KEY: "CHANGE_ME_GENERATE_RANDOM_256BIT_KEY"
  
  # Admin
  ADMIN_API_KEY: "CHANGE_ME_GENERATE_RANDOM_KEY"
  ADMIN_BYPASS_IPS: "10.0.0.0/8,172.16.0.0/12,192.168.0.0/16"
  
  # Email (Resend API)
  RESEND_API_KEY: "re_YOUR_KEY_HERE"
  ADMIN_EMAIL: "admin@example.com"
  API_BASE_URL: "http://localhost"
  
---
# ============================================================================
# PRODUCTION DEPLOYMENT INSTRUCTIONS
# ============================================================================
# 
# Do NOT use the above secrets in production!
# Instead, create secrets using kubectl:
#
# 1. Generate secure passwords:
#    POSTGRES_PASSWORD=$(openssl rand -base64 32)
#    SECRET_KEY=$(openssl rand -base64 32)
#    ADMIN_API_KEY=$(openssl rand -base64 32)
#    MINIO_ROOT_PASSWORD=$(openssl rand -base64 32)
#
# 2. Create the secret:
#    kubectl create secret generic portfolio-secrets \
#      --from-literal=POSTGRES_USER=postgres \
#      --from-literal=POSTGRES_PASSWORD="$POSTGRES_PASSWORD" \
#      --from-literal=DATABASE_URL="postgresql://postgres:${POSTGRES_PASSWORD}@postgres-primary:5432/portfolio?sslmode=require" \
#      --from-literal=DATABASE_URL_PRIMARY="postgresql://postgres:${POSTGRES_PASSWORD}@postgres-primary:5432/portfolio?sslmode=require" \
#      --from-literal=DATABASE_URL_REPLICA="postgresql://postgres:${POSTGRES_PASSWORD}@postgres-replica:5432/portfolio?sslmode=require" \
#      --from-literal=ALEMBIC_DATABASE_URL="postgresql://postgres:${POSTGRES_PASSWORD}@postgres-primary:5432/portfolio?sslmode=require" \
#      --from-literal=REDIS_URL="redis://redis:6379/0" \
#      --from-literal=MINIO_ROOT_USER=minioadmin \
#      --from-literal=MINIO_ROOT_PASSWORD="$MINIO_ROOT_PASSWORD" \
#      --from-literal=SECRET_KEY="$SECRET_KEY" \
#      --from-literal=ADMIN_API_KEY="$ADMIN_API_KEY" \
#      --from-literal=ADMIN_BYPASS_IPS="10.0.0.0/8,172.16.0.0/12,192.168.0.0/16" \
#      --from-literal=RESEND_API_KEY="re_YOUR_REAL_KEY" \
#      --from-literal=ADMIN_EMAIL="admin@yourdomain.com" \
#      --from-literal=API_BASE_URL="https://yourdomain.com" \
#      -n portfolio
#
# 3. Save the generated passwords securely!
# ============================================================================
